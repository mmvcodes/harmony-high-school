<!-- src/app/components/admin/manage-students/manage-students.html -->
<h3 class="text-xl sm:text-2xl font-bold text-gray-700 mb-4">Manage Student Details</h3>

<!-- Add/Update Student Form -->
<form (ngSubmit)="saveStudent()" class="mb-8 p-4 border rounded-md bg-gray-50">
  <h4 class="text-lg sm:text-xl font-semibold mb-3">{{ editingStudent.id ? 'Edit Student' : 'Add New Student' }}</h4>
  <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
    <div>
      <label for="student-mgmt-name" class="block text-gray-700 text-sm font-bold mb-1">Name:</label>
      <input type="text" id="student-mgmt-name" [(ngModel)]="editingStudent.name" name="name" class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline text-sm" placeholder="Student Name" required>
    </div>
    <div>
      <label for="student-mgmt-age" class="block text-gray-700 text-sm font-bold mb-1">Age:</label>
      <input type="number" id="student-mgmt-age" [(ngModel)]="editingStudent.age" name="age" class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline text-sm" placeholder="Student Age" required>
    </div>
    <div>
      <label for="student-mgmt-class" class="block text-gray-700 text-sm font-bold mb-1">Class:</label>
      <input type="text" id="student-mgmt-class" [(ngModel)]="editingStudent.class" name="class" class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline text-sm" placeholder="Class (e.g., 10th)" required>
    </div>
    <div>
      <label for="student-mgmt-section" class="block text-gray-700 text-sm font-bold mb-1">Section:</label>
      <input type="text" id="student-mgmt-section" [(ngModel)]="editingStudent.section" name="section" class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline text-sm" placeholder="Section (e.g., A)" required>
    </div>
    <div class="md:col-span-2">
      <label for="student-mgmt-course" class="block text-gray-700 text-sm font-bold mb-1">Course:</label>
      <input type="text" id="student-mgmt-course" [(ngModel)]="editingStudent.course" name="course" class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline text-sm" placeholder="Course (e.g., Science)" required>
    </div>
  </div>
  <div class="flex justify-end">
    <button type="submit" class="bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded text-sm sm:text-base focus:outline-none focus:shadow-outline">Save Student</button>
    <button type="button" (click)="cancelEditStudent()" *ngIf="editingStudent.id" class="ml-2 bg-gray-400 hover:bg-gray-600 text-white font-bold py-2 px-4 rounded text-sm sm:text-base focus:outline-none focus:shadow-outline">Cancel</button>
  </div>
</form>

<!-- Student List Table -->
<div class="overflow-x-auto">
  <table class="min-w-full bg-white border border-gray-200 rounded-md text-sm">
    <thead>
      <tr class="bg-gray-100 border-b">
        <th class="py-2 px-4">Name</th>
        <th class="py-2 px-4">Age</th>
        <th class="py-2 px-4">Class</th>
        <th class="py-2 px-4">Section</th>
        <th class="py-2 px-4">Course</th>
        <th class="py-2 px-4">Actions</th>
      </tr>
    </thead>
    <tbody>
      <!-- Loop through the students array and display each student's details -->
      <tr *ngFor="let student of students">
        <td class="py-2 px-4">{{ student.name }}</td>
        <td class="py-2 px-4">{{ student.age }}</td>
        <td class="py-2 px-4">{{ student.class }}</td>
        <td class="py-2 px-4">{{ student.section }}</td>
        <td class="py-2 px-4">{{ student.course }}</td>
        <td class="py-2 px-4">
          <button (click)="editStudent(student)" class="bg-yellow-500 hover:bg-yellow-700 text-white text-sm py-1 px-2 rounded mr-2">Edit</button>
          <button (click)="deleteStudent(student.id)" class="bg-red-500 hover:bg-red-700 text-white text-sm py-1 px-2 rounded">Delete</button>
        </td>
      </tr>
      <!-- Display a message if no students are added -->
      <tr *ngIf="students.length === 0">
        <td colspan="6" class="py-4 text-center text-gray-500">No students added yet.</td>
      </tr>
    </tbody>
  </table>
</div>